<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Map</title>
  <link href="https://cdn.jsdelivr.net/npm/daisyui@4.6.2/dist/full.css" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://code.iconify.design/2/2.2.1/iconify.min.js"></script>
  <link href="https://unpkg.com/maplibre-gl/dist/maplibre-gl.css" rel="stylesheet" />
  <script src="https://unpkg.com/maplibre-gl/dist/maplibre-gl.js"></script>
</head>

<body>
  <div class="drawer">
    <input id="my-drawer" type="checkbox" class="drawer-toggle" />
    <div class="drawer-content">
      {{> navbar }}

      <div id="map" style="height: calc(100vh - var(--navbar-height, 4rem));"></div>
    </div>

    {{> sidebar }}
  </div>

  <script>
    const map = new maplibregl.Map({
      container: 'map',
      style: 'https://demotiles.maplibre.org/style.json',
      center: [0, 0],
      zoom: 2,
      projection: 'globe'
    });

    map.on('load', () => {
      const locations = [
        { coords: [13.405, 52.52], label: 'Berlin' },
        { coords: [-74.006, 40.7128], label: 'New York' },
        { coords: [151.2093, -33.8688], label: 'Sydney' }
      ];

      locations.forEach(({ coords, label }) => {
        new maplibregl.Marker()
          .setLngLat(coords)
          .setPopup(new maplibregl.Popup().setHTML(`<p>${label}</p>`))
          .addTo(map);
      });
    });
  </script>
</body>

</html>
